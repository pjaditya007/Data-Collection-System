
## Project Abstract

This is a Data collection system, that's built using Node JS. It collects data from three platforms: Twitter, Reddit and News API. Twitter and News API data is collected through http requests whereas for reddit I built a data crawler that scraps the data from website. All the data collectors are modular and are implemented seperately. Apart from that there's a global error handler that handles errors. 

## Team - Mavericks

* Jai Aditya Patirla, jaditya1@binghamton.edu

## Tech-stack

* `Node JS` - The project is developed and tested using Node v17.6.0 [Node JS Website](https://nodejs.org/en/)

* `request` - Request is a popular HTTP networking module(aka library) for python programming language. [Request Website](https://docs.python-requests.org/en/latest/#)

* `axios` - Promise based HTTP client for the browser and node.js(https://www.npmjs.com/package/axios)

* `mongodb`- The official MongoDB driver for Node.js.
    * [PostgreSQL Website](https://www.mongodb.com/)

* `node-cron`- This project uses relationalDB postgreSQL for saving collected data.(https://www.npmjs.com/package/node-cron)

* `moment`- A JavaScript date library for parsing, validating, manipulating, and formatting dates.(https://www.npmjs.com/package/moment)

* `needle` - Twitter recommended HTTP API for fetching recent twitter tweets.(https://www.npmjs.com/package/needle)

*  `cheerio` - Fast, flexible & lean implementation of core jQuery designed specifically for the server.(https://www.npmjs.com/package/cheerio)

* `cookie-parser, debug, http-errors, jade, morgan` - Libraries used for project maintainenance.


## Three data-source documentation

* `Twitter`
  * [Search Recent Tweets API](https://tinyurl.com/twitter-search-recent-api) - <Recent search endpoint returns Tweets from the last seven days that match a search query.>

* `Reddit` - We are using `/search`, `/comments` , etc.
  * [search-query](https://www.reddit.com/search) - Search through Reddit for required query.
  * [post-comments] (https://www.reddit.com/comments/yhnlrr?sort=top) - Fetches top comments for a specific topic.

* `News API` - 
  * [API-Link](https://newsapi.org/v2/everything) - Search through millions of articles from over 80,000 large and small news sources and blogs.
  * [Website-link](https://newsapi.org/) - Locate articles and breaking news headlines from news sources and blogs across the web.


## System Architecture

![System Architecture](/app/architecture/DataCollectionArchitecture.pdf)


## How to run the project?

Install `Node v.17.6.0 or higher`

```bash
1.npm install
2.DEBUG=app:* npm start
```

```bash

collection_1: newsAPI
{
    "id": "Default Id created in MongoDB",
    "source": "source of the news article",
    "author": "Author of the news article",
    "title": "Title of the news article",
    "url":  "News Article link"
    "urlToImage":  "Primary Article Image",
    "publishedAt":  "News Article Publish date",
    "content": "Content of the news article"
}

collection_2: reddit
{
  "id": "Default Id created in MongoDB",
  "query": "Query Parameter",
  "commentTimeStamp": "Time stamp of the comment",
  "comment": "User comment"
}

collection_3: twitter
{
  "id": "Unique mongo DB Id"
  "edit_history_tweet_ids": "Array of edited tweet ids. Ideally size will be 0"
  "created_at": "tweet created time",
  "text": "Content of the tweet",
  "id": "Unique Tweet Id generated by Twitter",
  "author_id": "Unique Author Id generated by Twitter"
}
```





